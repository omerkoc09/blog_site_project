import{d as v,r as i,G as x,aq as p,ar as f,o as w,h as y,f as l,e as c,b as e,at as U,p as a,ao as C,v as S,av as g,an as P}from"./index-DykNzqLW.js";import{r as m,e as T,p as B}from"./validators-86ShrgN-.js";import{b as h,V}from"./VCard-BMvFbdY3.js";import{V as k}from"./VCardText-BJnF-3QZ.js";import{V as N}from"./VForm-DUT__qK3.js";import{V as _,a as u}from"./VRow-CRBOcwO5.js";import{V as n}from"./VTextField-BYP5qumX.js";import"./VAvatar-fsVdXin6.js";import"./VImg-DseSWRio.js";import"./transition-LHIbAFMv.js";import"./forwardRefs-C-GTDzx5.js";/* empty css              */import"./index-B3ZueLCo.js";import"./easing-DY7PVvcf.js";const q={class:"d-flex justify-center pa-10"},E=c("h2",{class:"text-center pa-5"}," Profil ",-1),W=v({__name:"profile",setup(F){const d=i(!1),o=i({name:"",surname:"",email:"",phone:"",password:""});x(async()=>{d.value=!0;const[s,t]=await p.get("user/me");if(d.value=!1,s)return f(s);o.value=t.data});const b=async()=>{d.value=!0;const[s]=await p.put("user/me",o.value);if(d.value=!1,s)return f(s);g("Profil başarıyla güncellendi"),await P().updateUser()};return(s,t)=>(w(),y(V,null,{default:l(()=>[c("div",q,[e(V,{"max-width":"400px"},{default:l(()=>[e(h,null,{default:l(()=>[E]),_:1}),e(k,null,{default:l(()=>[e(N,{ref:"formRef",onSubmit:U(b,["prevent"])},{default:l(()=>[e(_,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[e(n,{modelValue:a(o).name,"onUpdate:modelValue":t[0]||(t[0]=r=>a(o).name=r),label:"İsim",rules:[a(m)]},null,8,["modelValue","rules"])]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(n,{modelValue:a(o).surname,"onUpdate:modelValue":t[1]||(t[1]=r=>a(o).surname=r),label:"Soyisim",rules:[a(m)]},null,8,["modelValue","rules"])]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(n,{modelValue:a(o).email,"onUpdate:modelValue":t[2]||(t[2]=r=>a(o).email=r),label:"Email",type:"email",rules:[a(m),a(T)]},null,8,["modelValue","rules"])]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(n,{modelValue:a(o).phone,"onUpdate:modelValue":t[3]||(t[3]=r=>a(o).phone=r),name:"telefon",label:"Telefon",type:"phone",rules:[a(m),a(B)]},null,8,["modelValue","rules"])]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(n,{modelValue:a(o).password,"onUpdate:modelValue":t[4]||(t[4]=r=>a(o).password=r),label:"Parola",type:"text"},null,8,["modelValue"])]),_:1})]),_:1}),e(_,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[e(C,{block:"",type:"submit",loading:a(d)},{default:l(()=>[S(" Kaydet ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})])]),_:1}))}});export{W as default};
