import{d as v,r,l as b,a as g,o as k,c as w,e as l,b as e,p as n,f as o,at as y,ao as x,v as R,$ as S,aq as B,ar as C,an as i}from"./index-DykNzqLW.js";import{a as E,b as T}from"./auth-v1-top-shape-BSkSyhzF.js";import{V as p}from"./VImg-DseSWRio.js";import{V as f}from"./VCardText-BJnF-3QZ.js";import{V as F,a as c}from"./VRow-CRBOcwO5.js";import{V as U}from"./VTextField-BYP5qumX.js";import{V as L}from"./VCard-BMvFbdY3.js";import{V as N}from"./VForm-DUT__qK3.js";import{b as _}from"./route-block-B_A1xBdJ.js";import"./transition-LHIbAFMv.js";import"./VAvatar-fsVdXin6.js";/* empty css              */import"./index-B3ZueLCo.js";import"./easing-DY7PVvcf.js";import"./forwardRefs-C-GTDzx5.js";const j={class:"auth-wrapper d-flex align-center justify-center pa-4"},A={class:"position-relative my-sm-16"},I=l("h5",{class:"text-h5 font-weight-semibold mb-1"}," Forgot Password? ðŸ”’ ",-1),P=l("p",{class:"mb-0"}," Enter your email and we'll send you instructions to reset your password ",-1),q=l("span",null,"Back to login",-1),M=v({__name:"forgot-password",setup($){const u=r(!1);r(!1);const m=r(),s=r({email:""});b();const h=async()=>{const{valid:d}=await m.value.validate();if(!d)return;console.log("Form value:",s.value),console.log("/api"),u.value=!0;const[a,t]=await B.post("auth/forgot-password",s.value);if(u.value=!1,a)return C(a);await i().login(t.data.access_token,t.data.refresh_token),console.log("Access Token:",t.data.access_token),console.log("User Role:",i().user.role),console.log("Entire User:",i().user)};return(d,a)=>{const t=g("RouterLink");return k(),w("div",j,[l("div",A,[e(p,{src:n(E),class:"auth-v1-top-shape d-none d-sm-block"},null,8,["src"]),e(p,{src:n(T),class:"auth-v1-bottom-shape d-none d-sm-block"},null,8,["src"]),e(L,{class:"auth-card pa-4","max-width":"448"},{default:o(()=>[e(f,{class:"pt-2"},{default:o(()=>[I,P]),_:1}),e(f,null,{default:o(()=>[e(n(N),{ref_key:"formRef",ref:m,onSubmit:y(h,["prevent"])},{default:o(()=>[e(F,null,{default:o(()=>[e(c,{cols:"12"},{default:o(()=>[e(U,{modelValue:s.value.email,"onUpdate:modelValue":a[0]||(a[0]=V=>s.value.email=V),label:"Email",type:"email"},null,8,["modelValue"])]),_:1}),e(c,{cols:"12"},{default:o(()=>[e(x,{block:"",type:"submit"},{default:o(()=>[R(" Send Reset Link ")]),_:1})]),_:1}),e(c,{cols:"12"},{default:o(()=>[e(t,{class:"d-flex align-center justify-center",to:{name:"auth-login"}},{default:o(()=>[e(S,{icon:"tabler-chevron-left",class:"flip-in-rtl"}),q]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})])])}}});typeof _=="function"&&_(M);export{M as default};
